<div id="chart-content">
  <div class="row" id="print-logo-display">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <img src="/assets/images/statistiktjansten-logotype-print.png">
      <h2 class="business-name-header print-only-no-display">{{::verksamhetName}}</h2>
    </div>
  </div>

  <div class="row hidden-print">
    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 pull-left right-2px-padding"
         style="width: auto !important;">
      <h1 class="national-statistic-h1" data-ng-bind="viewHeader" style="line-height: 17px; margin-bottom: 0px;"></h1>
    </div>
    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 pull-left left-2px-padding"
         ng-show="verksamhetViewShowing" id="business-name-header-container" style="width: auto !important;">
      <h2 class="business-name-header" style="line-height: 16px;">{{headerEnhetInfo}}</h2>
    </div>
  </div>

  <div class="row">
		<span class="col-xs-12 col-sm-12 col-md-12 col-lg-12 graph-ingress pull-left" style="min-height: 5px;">
			{{subTitle}}
			<a class="hidden-print page-help-tool-tip" uib-tooltip-html="popoverText"
         tooltip-class="popover-content"
         tooltip-trigger="mouseenter" tooltip-placement="right" data-ng-show="popoverText"
         style="position: relative; top: -2px; margin-left: 5px;"><img src="/assets/images/questionmark2.png"></a>
			<a class="hidden-print" id="chart-footnote-trigger" data-toggle="collapse" data-target="#chart-footnote-text"
         data-ng-show="chartFootnotes.length > 0" text="Information om diagrammet"
         style="position: relative; top: -2px; margin-left: 5px;"><img src="/assets/images/information.png"></a>
			<a class="hidden-print" id="chart-diagnosfilterinfo-trigger" data-toggle="collapse"
         data-target="#chart-diagnosfilterinfo-text" data-ng-show="activeDiagnosFilters" text="Diagnosfilter"
         style="position: relative; color: #0b0b0b; font-weight: normal; margin-left: 5px;">Diagnosfilter&nbsp;&#x25BE</a>
			<a class="hidden-print" id="chart-enhetsfilterinfo-trigger" data-toggle="collapse"
         data-target="#chart-enhetsfilterinfo-text" data-ng-show="activeEnhetsFilters" text="Enhetsfilter"
         style="position: relative; color: #0b0b0b; font-weight: normal; margin-left: 5px;">Enhetsfilter&nbsp;&#x25BE</a>
			<a class="hidden-print" id="chart-sjukskrivningslangdsfilterinfo-trigger" data-toggle="collapse"
         data-target="#chart-sjukskrivningslangdsfilterinfo-text" data-ng-show="activeSjukskrivningslangdsFilters" text="Sjukskrivningslangdsfilter"
         style="position: relative; color: #0b0b0b; font-weight: normal; margin-left: 5px;">Sjukskrivningsl√§ngdsfilter&nbsp;&#x25BE</a>
		</span>
  </div>

  <div class="row pull-left">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" data-ng-show="chartFootnotes">
      <div class="collapse" id="chart-footnote-text">
        <div class="alert alert-info" style="margin-top: 3px;">
          <div data-ng-repeat="chartFootnote in chartFootnotes">
            <p>{{::chartFootnote}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="clearfix">
    <div class="pull-left filter-list" data-ng-if="activeDiagnosFilters">
      <filter-list collapse-id="chart-diagnosfilterinfo-text" filters="activeDiagnosFilters"></filter-list>
    </div>

    <div class="pull-left filter-list" data-ng-if="activeEnhetsFilters">
      <filter-list collapse-id="chart-enhetsfilterinfo-text" filters="activeEnhetsFilters"></filter-list>
    </div>

    <div class="pull-left filter-list" data-ng-if="activeSjukskrivningslangdsFilters">
      <filter-list collapse-id="chart-sjukskrivningslangdsfilterinfo-text" filters="activeSjukskrivningslangdsFilters"></filter-list>
    </div>
  </div>

  <!-- Start detailsOptions if any -->
  <div class="row">
    <tree-multi-selector style="margin-top: 20px;" class="col-xs-6 col-sm-6 col-md-6 col-lg-6 pull-left"
                         menu-options="diagnosisTreeFilter.diagnosisOptionsTree" done-clicked="diagnosisSelected"
                         data-ng-show="showDiagnosisSelector" text-data="diagnosisSelectorData"></tree-multi-selector>
  </div>

  <diagnos-selection
      show-details-options="showDetailsOptions"
      details-options="detailsOptions"
      selected-details-option="selectedDetailsOption"
      show-details-options2="showDetailsOptions2"
      details-options2="detailsOptions2"
      selected-details-option2="selectedDetailsOption2"
      show-details-options3="showDetailsOptions3"
      details-options3="detailsOptions3"
      selected-details-option3="selectedDetailsOption3"
      query-string="queryString"
      show-detail-options3-popover-text="showDetailOptions3PopoverText",
      popover-text="popoverText"
  ></diagnos-selection>


  <div class="row" data-ng-class="{margin_top_button_group: showDetailsOptions}" style="margin-bottom: 10px;">
    <!-- Button group for viewing different series -->

    <div class="col-md-12 col-lg-7"  data-ng-if="resultMessage">
      <div class="ng-binding top-20px-margin alert alert-info" role="alert">
        <strong>Observera!</strong> {{resultMessage}}
      </div>
    </div>

    <div data-ng-if="generatingPdf" class="spinner-detail">
      <div class="col-md-12 col-lg-5" spinner label="Skapar pdf" show-spinner="generatingPdf"></div>
    </div>

    <div class="row hidden-print top-20px-margin">
        <div class="col-md-9 select-chart-type" data-ng-if="isVerksamhetShowing">
          <span class="select-chart-type-description" message key="lbl.diagramtyp-knappgrupp"></span>

          <div class="select-chart-type-tidsserie">
            <span message key="lbl.diagramtyp-tidsserie"></span>
            <button
                class="btn btn-default"
                ng-class="{'active': activeChartType === 'line'}"
                data-ng-click="switchChartType('line')" uib-tooltip="Linjediagram" tooltip-placement="bottom"
                tooltip-popup-delay="1000">
              <span class="chart-icon chart-icon-line"></span>
            </button>

            <button
                class="btn btn-default"
                ng-class="{'active': activeChartType === 'area'}"
                data-ng-click="switchChartType('area')" uib-tooltip="Ytdiagram" tooltip-placement="bottom"
                tooltip-popup-delay="1000">
                <span class="chart-icon chart-icon-area"></span>
            </button>

            <button
                class="btn btn-default"
                ng-class="{'active': activeChartType === 'percentarea'}"
                data-ng-click="switchChartType('percentarea')" uib-tooltip="Procentuellt ytdiagram" tooltip-placement="bottom"
                tooltip-popup-delay="1000">
              <span class="chart-icon chart-icon-percentarea"></span>
            </button>
          </div>

          <div class="select-chart-type-tvarsnitt">
            <span message key="lbl.diagramtyp-tvarsnitt"></span>
            <button
                class="btn btn-default"
                ng-class="{'active': activeChartType === 'column'}"
                data-ng-click="switchChartType('column')" uib-tooltip="Stapeldiagram" tooltip-placement="bottom"
                tooltip-popup-delay="1000">
              <span class="chart-icon chart-icon-column"></span>
            </button>
          </div>
        </div>

        <!-- PRINT BUTTON GROUP -->
        <div class="col-md-3 print-page-panel pull-right">
          <button class="multiselect dropdown-toggle btn btn-default pull-right" data-toggle="dropdown">
            <span message key="dropdown.val.rapport"></span>
            <span class="caret"></span>
          </button>

          <ul class="dropdown-menu detail-view-choice-dropdown dropdown-menu-right">
            <li><a data-ng-click="printPdf()"><img src="/assets/images/dropdown-icons/pdf1b.png" />
                  <span message key="dropdown.val.skrivut-pdf"></span></a>
            </li>
            <li data-ng-repeat="chartContainer in chartContainers"><a
                data-ng-click="exportChart(chartContainer.id)"><img src="/assets/images/dropdown-icons/png1b.png" /><span message
                                                                                                               key="dropdown.val.spara-diagram-bild-1"></span>{{chartContainer.name}}<span
                message key="dropdown.val.spara-diagram-bild-2"></span></a></li>
            <li><a data-ng-href="{{exportTableUrl}}{{queryString}}" target="_self"><img
                src="/assets/images/dropdown-icons/csv_icon.png" /><span message key="dropdown.val.spara-excel"></span></a>
            </li>
          </ul>
        </div>
      </div>
  </div>

<!-- Start ingress -->
<div dataerrorview show-error="dataLoadingError" error-page-url="errorPageUrl">
  <div spinner label="{{spinnerText}}" show-spinner="!doneLoading" show-content="doneLoading && !resultMessage">
    <!-- Start graph -->
    <div class="row">
      <div data-ng-repeat="chartContainer in chartContainers"
           data-ng-class="{'col-xs-12 col-sm-12 col-md-12 col-lg-12': chartContainers.length == 1, 'col-lg-6': chartContainers.length == 2}"
           class="left-2px-padding right-2px-padding">
        <div class="chart-page-chart" id="{{chartContainer.id}}" style="height: 400px; margin: 0 auto"></div>
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="btn-group legend-btn-group">
						<span data-ng-repeat="seriesData in series" class="col-xs-12 col-sm-6 col-md-6 col-lg-6"
                  data-ng-show="showInLegend($index)">
							<label id="legend-label" style="white-space: nowrap;" legend-height>
                <input type="checkbox" checked="" class="detail-checkbox" data-ng-click="toggleSeriesVisibility($index)"
                       style="cursor: pointer; cursor: hand;" />
                <span class="legend-color-square" data-ng-attr-style="background-color: {{seriesData.color}}!important"></span>
                <span class="legend-name">{{seriesData.name}}</span>
              </label>
						</span>
        </div>
      </div>
    </div>

    <!-- Starting data-table -->
    <div class="rotate-print browserTable">
      <div class="row">
					<span class="col-xs-12 col-sm-12 col-md-12 col-lg-12 graph-ingress" id="data-table-print-header">
						{{subTitle}}
					</span>
      </div>
      <div class="row">
        <div id="chart-data-table" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 chart-table">
          <uib-accordion id="accordion2">
            <uib-accordion-group is-open="status.isTableOpen">
              <uib-accordion-heading class="hidden-print">
                <span data-ng-if="status.isTableOpen"><i class="glyphicon chart-table-min-icon"></i> <span message key="lbl.dolj-tabell"></span></span>
                <span data-ng-if="!status.isTableOpen"><i class="glyphicon chart-table-expand-icon"></i> <span message key="lbl.visa-tabell"></span></span>
              </uib-accordion-heading>
              <stat-scroll-table header-rows="headerrows" rows="rows"></stat-scroll-table>
            </uib-accordion-group>
          </uib-accordion>
        </div>
      </div>
    </div>
  </div>
</div></div>
