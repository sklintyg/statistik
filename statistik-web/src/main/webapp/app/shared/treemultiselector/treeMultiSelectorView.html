<div data-ng-class="{'inline-block': !showLabel}">
    <label data-ng-if="showLabel" class="dropdown-label" for="select-diagnoses{{$id}}">{{textData.titleText}}</label><br data-ng-if="showLabel"/>
    <button class="btn btn-default" data-toggle="modal" data-target="#diagnosisModal{{$id}}" id="select-diagnoses{{$id}}" ng-click="openDialogClicked()">
        <i data-ng-if="buttonIcon" class="fa {{buttonIcon}}"></i>
        {{textData.buttonLabelText}}
    </button>
    <div class="modal" id="diagnosisModal{{$id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">


                <div class="modal-header">
                    <span id="myModalLabel">{{textData.titleText}}</span>
                </div>

                <div class="modal-body" spinner label="{{spinnerText}}" show-spinner="!doneLoading && transitionsSupported" show-content="!doneLoading" data-ng-show="!doneLoading && transitionsSupported">
                </div>

                <div class="modal-body" data-ng-show="!doneLoading && !transitionsSupported">
                    <h2><b><span message key="info.multiselect.loading"></span></b></h2>
                </div>

                <div class="modal-body">
                    <ul ng-if="dialogOpen" class="modal-list">
                        <li class="search-all-items input-group">
                            <span class="input-group-addon glyphicon glyphicon-search"></span>
                            <input type="search" ng-model="multiMenuFilter" class="multiMenuFilterSearch form-control" ng-change="filterMenuItems(menuOptions.subs, multiMenuFilter)" placeholder="SÃ¶k"/>
                        </li>
                        <li class="select-all-items">
                            <input type="checkbox" ng-checked="menuOptions.allSelected" id="select-all-diagnoses" class="multiMenuSelectAll" ng-click="itemClicked(menuOptions)"></input>
                            <label for="select-all-diagnoses"><span message key="lbl.filter.select-all"></span></label>
                        </li>
                        <li data-ng-repeat="item in menuOptions.subs" class="multiMenuSelectKapitel" ng-init="itemRoot=menuOptions; depth=0" on-finish-render="doneRenderingDialog()">
                            <submenu item="item" itemroot="itemRoot" depth="depth" recursionhelper="recursionhelper" ng-hide="item.hide" class="depth0" />
                        </li>
                    </ul>
                </div>

                <div class="modal-footer">
                    <label class="pull-left">{{textData.firstLevelLabelText}}{{selectedTertiaryCount}} {{textData.secondLevelLabelText}}{{selectedSecondaryCount}} {{textData.thirdLevelLabelText}}{{selectedLeavesCountAll}}</label>
                    <button class="btn btn-success" data-dismiss="modal" aria-hidden="true" data-ng-click="clickedDone()"><span message key="lbl.filter.modal.spara-stang"></span></button>
                </div>

            </div>
        </div>
    </div>
</div>
