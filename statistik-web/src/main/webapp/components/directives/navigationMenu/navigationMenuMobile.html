<!-- MOBILE NAVIGATION START -->
<nav class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header navbar-header-margins">
      <span class="navbar-brand pull-left"><span message key="lbl.mobile-menu"></span></span>
      <button type="button" class="navbar-toggle collapsed pull-left" data-ng-click="toggleMobileMenu()">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="col-xs-6 hidden-sm hidden-md hidden-lg pull-right" data-ng-if="loginVisible">
        <div class="pull-right" ng-hide="isLoggedIn">
          <button class="btn btn-link" data-ng-click="loginClicked()" id="business-login-mobile-btn"><span message key="lbl.log-in"></span>
          </button>
        </div>
        <div id="business-logged-in-user-container" ng-show="isLoggedIn">
          <div class="header-box-user-profile pull-right">
            <span class="user-name pull-right" data-ng-bind="UserModel.get().userNameWithAccess"></span>
            <br/>
            <span class="user-logout pull-right">
                <a href="/saml/logout"><span message key="lbl.log-out"></span></a>
            </span>
          </div>
        </div>
      </div>
    </div>
    <!-- Start mobile navigation menu -->
    <div class="collapse navbar-collapse-navigation mobile-menu" uib-collapse="isCollapsed">
      <ul class="nav navbar-nav" style="margin-top: 0">

        <li class="divider" data-ng-repeat-start="menu in menus | filter: showMenu"></li>
        <li data-ng-repeat-end>
          <a class="mobile-menu-header-item" data-ng-click="toggleMenu(menu)">
            <span message key="{{::menu.name}}"></span>
            <span class="glyphicon pull-right mobile-menu-caret" data-ng-class="{'glyphicon-chevron-up': menu.show, 'glyphicon-chevron-down': !menu.show}"></span>
          </a>

          <ul data-ng-if="menu.show" class="mobile-menu-part">
            <li class="sub-menu-item" data-ng-repeat="submenu in menu.subMenu | filter: showMenu">
              <a data-ng-href="{{::submenu.link}}{{queryString}}"
                 data-ng-click="toggleMobileMenu()"
                 data-ng-class="{'not-active': !menuEnabled(submenu)}"
                 ctrlname="{{::submenu.ctrl}}"
                 role="menuitem" navigationaware>
                <span message key="{{::submenu.name}}"></span>
              </a>

              <ul data-ng-if="submenu.subMenu" class="sub-sub-menu-item">
                <li class="subMenuItem" data-ng-repeat="subsubmenu in submenu.subMenu">
                  <a data-ng-href="{{::subsubmenu.link}}{{queryString}}"
                     ctrlname="{{::subsubmenu.ctrl}}" role="menuitem"
                     data-ng-click="toggleMobileMenu()" navigationaware>
                    <span message key="{{::subsubmenu.name}}"></span></a>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
<!-- MOBILE NAVIGATION END -->
