ext.generatedJavaDir = file("generatedSource/java")

sourceSets.main.java {
    srcDir generatedJavaDir
}

clean.doLast { ant.delete(dir: generatedJavaDir.parent) }

if (project.hasProperty("codeQuality")) {
    license {
        exclude "**/*.java" // This excludes too many files, but "generatedSource/**/*.java" does not work for some reason.
    }
}

dependencies {
    compile "se.inera.intyg.infra:hsatk-integration:${infraVersion}"

    compile "org.jvnet.jaxb2_commons:jaxb2-basics:${jaxb2Version}"
    compile "com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider"
    compile "org.apache.cxf:cxf-rt-frontend-jaxrs:${cxfVersion}"
    compile "org.apache.cxf:cxf-rt-frontend-jaxws:${cxfVersion}"
    compile "org.springframework:spring-context"
    compile "org.springframework.security:spring-security-web"

}
